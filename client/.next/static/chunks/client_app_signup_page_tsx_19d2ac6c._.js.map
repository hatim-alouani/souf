{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/hatim_alouani/chatbot/client/app/signup/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\n\ntype Persona = 'executive' | 'manager' | 'business_owner' | '';\n\nexport default function SignupPage() {\n  const router = useRouter();\n\n  const [fullName, setFullName] = useState('');\n  const [company, setCompany] = useState('');\n  const [email, setEmail] = useState('');\n  const [email2, setEmail2] = useState('');\n  const [persona, setPersona] = useState<Persona>('');\n  const [submitting, setSubmitting] = useState(false);\n  const [status, setStatus] = useState<string>('');\n\n  useEffect(() => {\n    document.title = 'AI-AUDIT | Sign Up';\n  }, []);\n\n  async function onSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setStatus('');\n\n    if (!fullName.trim()) return setStatus('Please enter your full name.');\n    if (!email || !email2) return setStatus('Please enter your email twice.');\n    if (email !== email2) return setStatus('Emails do not match.');\n    if (!persona) return setStatus('Please select your role.');\n\n    setSubmitting(true);\n\n    try {\n      const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/auth/register`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        // match your backend register payload\n        body: JSON.stringify({\n          full_name: fullName,\n          email,\n          company_name: company || null,\n          user_persona: persona,\n        }),\n      });\n\n      const text = await res.text();\n      let data: any = {};\n      try { data = JSON.parse(text); } catch (e) {}\n\n      if (res.ok && data.ok) {\n        setStatus('✅ Check your inbox to confirm your email and set your password.');\n        // optionally route to a \"check your email\" screen after a moment\n        setTimeout(() => router.push('/login'), 2000);\n      } else {\n        setStatus(data.error || 'Registration failed. Please try again.');\n      }\n    } catch (err) {\n      console.error(err);\n      setStatus('Network error. Please try again.');\n    } finally {\n      setSubmitting(false);\n    }\n  }\n\n  return (\n    <main className=\"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-indigo-100 text-gray-800 font-sans\">\n      {/* Title */}\n      <div className=\"text-center mb-10 animate-fadeIn\">\n        <h1 className=\"text-5xl font-extrabold tracking-tight text-gray-900 mb-2\">\n          AI-AUDIT\n        </h1>\n        <p className=\"text-lg text-gray-600\">Interactive AI Marketing Auditor</p>\n      </div>\n\n      {/* Card */}\n      <div className=\"bg-white/70 backdrop-blur-xl rounded-2xl shadow-xl p-8 w-[90%] sm:w-[420px] animate-fadeIn\">\n        <h2 className=\"text-2xl font-semibold mb-6 text-center\">Create your account</h2>\n\n        <form onSubmit={onSubmit} className=\"space-y-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Full name\"\n            value={fullName}\n            onChange={(e) => setFullName(e.target.value)}\n            className=\"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-500\"\n            required\n          />\n\n          <input\n            type=\"text\"\n            placeholder=\"Company name\"\n            value={company}\n            onChange={(e) => setCompany(e.target.value)}\n            className=\"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-500\"\n          />\n\n          <input\n            type=\"email\"\n            placeholder=\"Email address\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            className=\"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-500\"\n            required\n          />\n\n          <input\n            type=\"email\"\n            placeholder=\"Confirm email address\"\n            value={email2}\n            onChange={(e) => setEmail2(e.target.value)}\n            className=\"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-500\"\n            required\n          />\n\n          <select\n            value={persona}\n            onChange={(e) => setPersona(e.target.value as Persona)}\n            className=\"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-500\"\n            required\n          >\n            <option value=\"\">Select your role</option>\n            <option value=\"executive\">Executive</option>\n            <option value=\"manager\">Manager</option>\n            <option value=\"business_owner\">Business Owner</option>\n          </select>\n\n          <button\n            type=\"submit\"\n            disabled={submitting}\n            className={`w-full text-white py-3 rounded-lg transition-all ${\n              submitting ? 'bg-indigo-400 cursor-not-allowed' : 'bg-indigo-600 hover:bg-indigo-700'\n            }`}\n          >\n            {submitting ? 'Submitting…' : 'Create Account'}\n          </button>\n\n          {status && (\n            <p\n              className={`text-sm text-center ${\n                status.startsWith('✅') ? 'text-green-600' : 'text-red-600'\n              }`}\n            >\n              {status}\n            </p>\n          )}\n        </form>\n\n        <div className=\"text-center mt-6\">\n          <button\n            onClick={() => router.push('/login')}\n            className=\"text-blue-600 hover:underline\"\n          >\n            Already have an account? Sign in\n          </button>\n        </div>\n\n        <p className=\"text-xs text-gray-500 mt-6 text-center\">\n          By continuing you agree to our Terms and Privacy Policy.\n        </p>\n      </div>\n\n      <footer className=\"text-center py-6 text-sm text-gray-500\">\n        © 2025 A2X CORP — All rights reserved\n      </footer>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}